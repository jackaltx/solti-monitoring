---
all:
  vars:
    domain: example.com
    secure_logging: "{{ cluster_secure_log | bool | default(true) }}"

    # Customiize to your configuration user
    ansible_user: da_configurator_account

    # Customnize this
    ansible_ssh_private_key_file: ~/.ssh/id_ed25519

    # SMELL: this is a wrong level
    influx_org: example
    influx_default_bucket: telegraf

  children:
    # ................................................
    # This is a convenience for testing.  I put everyhing under mylab
    # Then create subsets (metric_collectors, clients, and wazuh agent experiments)
    mylab:
      # .........................................
      hosts:
        # I was manual two distro's on alocal proxmox server
        monitor3:
          ansible_host: "monitor3.{{ domain }}"
        monitor4:
          ansible_host: "monitor4.{{ domain }}"

        # linode script testing
        linode_test:
          ansible_host: "fleur.lavnet.net"

      # .........................................
      # mylab vars
      vars:
        telegraf_outputs: []

      children:
        # .....................................
        metric_collectors:
          hosts:
            monitor3:
              # see group_vars/all/telegraf2influx-configs.yml
              telegraf_outputs: [localhost, sample]

            monitor4:
              telegraf_outputs: [localhost]

          # ........................................
          # metric_collectors only vars
          vars:
            influxdb_level: warn

        # .....................................
        # used to install common packages
        clients:
          hosts:
            monitor3:
              alloy_loki_endpoints:
                - label: localhost
                  endpoint: "127.0.0.1"
            monitor4:
              alloy_loki_endpoints:
                - label: localhost
                  endpoint: "127.0.0.1"

        # .....................................
        # used to install wazuh on test client

        wazuh_agents:
          hosts:
            monitor3:
            monitor4:
          vars:
            wazuh_deployment_profile: internal
            wazuh_agent_state: configure
            wazuh_server_address: 192.168.XX.200
